<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>tasks list</title>
  <!-- Import bootstrap and css file -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
  <link rel="stylesheet" href="/style.css">

  <style>
  </style>
</head>
<body>

  
 <div class="todo-box">
  <h2 class="mb-4 text-center fw-bold">tasks list</h2>

    <div class="d-flex flex-column align-items-center gap-2">
      <!-- Form for adding new task -->
      <form id="taskForm" class="input-group">
        <input type="text" id="taskInput" class="form-control" name="task" placeholder="add new task" 
          onfocus="this.placeholder=''" onblur="this.placeholder='add new task'" required>
        <button class="btn btn-primary" autofocus>add task</button>
      </form>
      <!-- Task filtering buttons (All, Done, Not Done) -->
      <div class="btn-group" role="group">
        <input type="radio" class="btn-check filter-btn" name="filter" id="showAll" value="all" checked>
        <label class="btn btn-outline-primary" for="showAll">Show All</label>

        <input type="radio" class="btn-check filter-btn" name="filter" id="doneOnly" value="done">
        <label class="btn btn-outline-primary" for="doneOnly">Done Only</label>

        <input type="radio" class="btn-check filter-btn" name="filter" id="notDone" value="notdone">
        <label class="btn btn-outline-primary" for="notDone">Not Done</label>
      </div>
    </div>
    <!-- Display all tasks with buttons -->
    <div class="task-list-container">
      <ul class="list-group">
        <% tasks.forEach((task) => { %>
          <li class="list-group-item d-flex justify-content-between align-items-center"  data-id="<%= task.id %>">

            <div>
              <input type="checkbox"class="form-check-input me-2"data-id="<%= task.id %>"<%= task.done ? "checked" : "" %>>
              <span><%= task.name %></span>
            </div>

            <div class="d-flex">
              <button class="btn btn-success btn-sm me-2 edit-btn" data-id="<%= task.id %>">Edit</button>
              <button class="btn btn-danger btn-sm delete-btn" data-id="<%= task.id %>">Delete</button>
            </div>
          </li>
        <% }) %>
      </ul>
    </div>
  </div>

  <!-- Import jquery and script file -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script src="/script.js"></script>

</body>
</html>
